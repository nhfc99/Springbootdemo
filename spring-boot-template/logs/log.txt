2020-07-20 17:24:39.400  INFO 21117 --- [restartedMain] com.nhfc99.TemplateApplication           : Starting TemplateApplication on niuhongfeideMac-mini.local with PID 21117 (/Users/nhf/Documents/GitHub/Springbootdemo/spring-boot-template/target/classes started by nhf in /Users/nhf/Documents/GitHub/Springbootdemo/spring-boot-template)
2020-07-20 17:24:39.412  INFO 21117 --- [restartedMain] com.nhfc99.TemplateApplication           : The following profiles are active: prod
2020-07-20 17:24:39.447  INFO 21117 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2020-07-20 17:24:39.447  INFO 21117 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2020-07-20 17:24:40.204  INFO 21117 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2020-07-20 17:24:40.206  INFO 21117 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data repositories in DEFAULT mode.
2020-07-20 17:24:40.232  INFO 21117 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 15ms. Found 0 repository interfaces.
2020-07-20 17:24:40.541  INFO 21117 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-07-20 17:24:40.633  INFO 21117 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'redisConfig' of type [com.nhfc99.template.component.redis.RedisConfig$$EnhancerBySpringCGLIB$$b1ebaedf] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-07-20 17:24:40.912  INFO 21117 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8899 (http)
2020-07-20 17:24:40.920  INFO 21117 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2020-07-20 17:24:40.920  INFO 21117 --- [restartedMain] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.27]
2020-07-20 17:24:41.107  INFO 21117 --- [restartedMain] org.apache.jasper.servlet.TldScanner     : At least one JAR was scanned for TLDs yet contained no TLDs. Enable debug logging for this logger for a complete list of JARs that were scanned but no TLDs were found in them. Skipping unneeded JARs during scanning can improve startup time and JSP compilation time.
2020-07-20 17:24:41.113  INFO 21117 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2020-07-20 17:24:41.113  INFO 21117 --- [restartedMain] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 1665 ms
2020-07-20 17:24:41.854  INFO 21117 --- [restartedMain] org.quartz.impl.StdSchedulerFactory      : Using default implementation for ThreadExecutor
2020-07-20 17:24:41.863  INFO 21117 --- [restartedMain] org.quartz.core.SchedulerSignalerImpl    : Initialized Scheduler Signaller of type: class org.quartz.core.SchedulerSignalerImpl
2020-07-20 17:24:41.863  INFO 21117 --- [restartedMain] org.quartz.core.QuartzScheduler          : Quartz Scheduler v.2.2.1 created.
2020-07-20 17:24:41.864  INFO 21117 --- [restartedMain] org.quartz.simpl.RAMJobStore             : RAMJobStore initialized.
2020-07-20 17:24:41.864  INFO 21117 --- [restartedMain] org.quartz.core.QuartzScheduler          : Scheduler meta-data: Quartz Scheduler (v2.2.1) 'quartzScheduler' with instanceId 'NON_CLUSTERED'
  Scheduler class: 'org.quartz.core.QuartzScheduler' - running locally.
  NOT STARTED.
  Currently in standby mode.
  Number of jobs executed: 0
  Using thread pool 'org.quartz.simpl.SimpleThreadPool' - with 10 threads.
  Using job-store 'org.quartz.simpl.RAMJobStore' - which does not support persistence. and is not clustered.

2020-07-20 17:24:41.864  INFO 21117 --- [restartedMain] org.quartz.impl.StdSchedulerFactory      : Quartz scheduler 'quartzScheduler' initialized from an externally provided properties instance.
2020-07-20 17:24:41.865  INFO 21117 --- [restartedMain] org.quartz.impl.StdSchedulerFactory      : Quartz scheduler version: 2.2.1
2020-07-20 17:24:41.865  INFO 21117 --- [restartedMain] org.quartz.core.QuartzScheduler          : JobFactory set to: org.springframework.scheduling.quartz.SpringBeanJobFactory@3b7b1a71
2020-07-20 17:24:42.269  INFO 21117 --- [restartedMain] pertySourcedRequestMappingHandlerMapping : Mapped URL path [/v2/api-docs] onto method [springfox.documentation.swagger2.web.Swagger2Controller#getDocumentation(String, HttpServletRequest)]
2020-07-20 17:24:42.293  WARN 21117 --- [restartedMain] org.thymeleaf.templatemode.TemplateMode  : [THYMELEAF][restartedMain] Template Mode 'HTML5' is deprecated. Using Template Mode 'HTML' instead.
2020-07-20 17:24:42.441  INFO 21117 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2020-07-20 17:24:42.894  WARN 21117 --- [restartedMain] ion$DefaultTemplateResolverConfiguration : Cannot find template location: classpath:/templates/ (please add some templates or check your Thymeleaf configuration)
2020-07-20 17:24:42.999  INFO 21117 --- [restartedMain] d.s.w.p.DocumentationPluginsBootstrapper : Context refreshed
2020-07-20 17:24:43.012  INFO 21117 --- [restartedMain] d.s.w.p.DocumentationPluginsBootstrapper : Found 1 custom documentation plugin(s)
2020-07-20 17:24:43.025  INFO 21117 --- [restartedMain] s.d.s.w.s.ApiListingReferenceScanner     : Scanning for api listing references
2020-07-20 17:24:43.215  INFO 21117 --- [restartedMain] .d.s.w.r.o.CachingOperationNameGenerator : Generating unique operation named: deleteUsingPOST_1
2020-07-20 17:24:43.223  INFO 21117 --- [restartedMain] .d.s.w.r.o.CachingOperationNameGenerator : Generating unique operation named: insertUsingPOST_1
2020-07-20 17:24:43.245  INFO 21117 --- [restartedMain] .d.s.w.r.o.CachingOperationNameGenerator : Generating unique operation named: insertUsingPOST_2
2020-07-20 17:24:43.248  INFO 21117 --- [restartedMain] .d.s.w.r.o.CachingOperationNameGenerator : Generating unique operation named: selectAllUsingGET_1
2020-07-20 17:24:43.259  INFO 21117 --- [restartedMain] .d.s.w.r.o.CachingOperationNameGenerator : Generating unique operation named: insertUsingPOST_3
2020-07-20 17:24:43.270  INFO 21117 --- [restartedMain] .d.s.w.r.o.CachingOperationNameGenerator : Generating unique operation named: deleteByPrimaryKeyUsingPOST_1
2020-07-20 17:24:43.273  INFO 21117 --- [restartedMain] .d.s.w.r.o.CachingOperationNameGenerator : Generating unique operation named: insertUsingPOST_4
2020-07-20 17:24:43.279  INFO 21117 --- [restartedMain] .d.s.w.r.o.CachingOperationNameGenerator : Generating unique operation named: selectAllUsingGET_2
2020-07-20 17:24:43.284  INFO 21117 --- [restartedMain] .d.s.w.r.o.CachingOperationNameGenerator : Generating unique operation named: updateByPrimaryKeySelectiveUsingPOST_1
2020-07-20 17:24:43.291  INFO 21117 --- [restartedMain] o.s.s.quartz.SchedulerFactoryBean        : Starting Quartz Scheduler now
2020-07-20 17:24:43.291  INFO 21117 --- [restartedMain] org.quartz.core.QuartzScheduler          : Scheduler quartzScheduler_$_NON_CLUSTERED started.
2020-07-20 17:24:43.316  INFO 21117 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8899 (http) with context path ''
2020-07-20 17:24:43.320  INFO 21117 --- [restartedMain] com.nhfc99.TemplateApplication           : Started TemplateApplication in 4.185 seconds (JVM running for 5.48)
2020-07-20 17:25:58.968 ERROR 21117 --- [restartedMain] c.n.t.c.SocketClient.SocketClient        : 连接客户端失败,error：org.mybatis.spring.MyBatisSystemException: nested exception is org.apache.ibatis.exceptions.PersistenceException: 
### Error querying database.  Cause: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is com.mysql.jdbc.exceptions.jdbc4.CommunicationsException: Communications link failure

The last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.
### The error may exist in file [/Users/nhf/Documents/GitHub/Springbootdemo/spring-boot-template/target/classes/mappers/DeviceipinfoDomainMapper.xml]
### The error may involve com.nhfc99.template.dao.DeviceipinfoDomainMapper.selectByName
### The error occurred while executing a query
### Cause: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is com.mysql.jdbc.exceptions.jdbc4.CommunicationsException: Communications link failure

The last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.
2020-07-20 17:25:58.969  INFO 21117 --- [restartedMain] c.n.t.c.SocketServer.NettyServer         : ================4.多线程启动Netty Server========================
2020-07-20 17:27:22.585  INFO 21117 --- [SpringContextShutdownHook] org.quartz.core.QuartzScheduler          : Scheduler quartzScheduler_$_NON_CLUSTERED paused.
2020-07-20 17:27:22.591  INFO 21117 --- [SpringContextShutdownHook] o.s.s.quartz.SchedulerFactoryBean        : Shutting down Quartz Scheduler
2020-07-20 17:27:22.592  INFO 21117 --- [SpringContextShutdownHook] org.quartz.core.QuartzScheduler          : Scheduler quartzScheduler_$_NON_CLUSTERED shutting down.
2020-07-20 17:27:22.592  INFO 21117 --- [SpringContextShutdownHook] org.quartz.core.QuartzScheduler          : Scheduler quartzScheduler_$_NON_CLUSTERED paused.
2020-07-20 17:27:22.592  INFO 21117 --- [SpringContextShutdownHook] org.quartz.core.QuartzScheduler          : Scheduler quartzScheduler_$_NON_CLUSTERED shutdown complete.
2020-07-20 17:27:26.576  INFO 21476 --- [restartedMain] com.nhfc99.TemplateApplication           : Starting TemplateApplication on niuhongfeideMac-mini.local with PID 21476 (/Users/nhf/Documents/GitHub/Springbootdemo/spring-boot-template/target/classes started by nhf in /Users/nhf/Documents/GitHub/Springbootdemo/spring-boot-template)
2020-07-20 17:27:26.577  INFO 21476 --- [restartedMain] com.nhfc99.TemplateApplication           : The following profiles are active: prod
2020-07-20 17:27:26.605  INFO 21476 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2020-07-20 17:27:26.607  INFO 21476 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2020-07-20 17:27:27.363  INFO 21476 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2020-07-20 17:27:27.365  INFO 21476 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data repositories in DEFAULT mode.
2020-07-20 17:27:27.387  INFO 21476 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 14ms. Found 0 repository interfaces.
2020-07-20 17:27:27.685  INFO 21476 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-07-20 17:27:27.764  INFO 21476 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'redisConfig' of type [com.nhfc99.template.component.redis.RedisConfig$$EnhancerBySpringCGLIB$$c0db9753] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-07-20 17:27:28.006  INFO 21476 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8899 (http)
2020-07-20 17:27:28.012  INFO 21476 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2020-07-20 17:27:28.012  INFO 21476 --- [restartedMain] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.27]
2020-07-20 17:27:28.182  INFO 21476 --- [restartedMain] org.apache.jasper.servlet.TldScanner     : At least one JAR was scanned for TLDs yet contained no TLDs. Enable debug logging for this logger for a complete list of JARs that were scanned but no TLDs were found in them. Skipping unneeded JARs during scanning can improve startup time and JSP compilation time.
2020-07-20 17:27:28.190  INFO 21476 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2020-07-20 17:27:28.190  INFO 21476 --- [restartedMain] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 1583 ms
2020-07-20 17:27:28.314  INFO 21476 --- [restartedMain] org.quartz.impl.StdSchedulerFactory      : Using default implementation for ThreadExecutor
2020-07-20 17:27:28.322  INFO 21476 --- [restartedMain] org.quartz.core.SchedulerSignalerImpl    : Initialized Scheduler Signaller of type: class org.quartz.core.SchedulerSignalerImpl
2020-07-20 17:27:28.323  INFO 21476 --- [restartedMain] org.quartz.core.QuartzScheduler          : Quartz Scheduler v.2.2.1 created.
2020-07-20 17:27:28.324  INFO 21476 --- [restartedMain] org.quartz.simpl.RAMJobStore             : RAMJobStore initialized.
2020-07-20 17:27:28.325  INFO 21476 --- [restartedMain] org.quartz.core.QuartzScheduler          : Scheduler meta-data: Quartz Scheduler (v2.2.1) 'quartzScheduler' with instanceId 'NON_CLUSTERED'
  Scheduler class: 'org.quartz.core.QuartzScheduler' - running locally.
  NOT STARTED.
  Currently in standby mode.
  Number of jobs executed: 0
  Using thread pool 'org.quartz.simpl.SimpleThreadPool' - with 10 threads.
  Using job-store 'org.quartz.simpl.RAMJobStore' - which does not support persistence. and is not clustered.

2020-07-20 17:27:28.325  INFO 21476 --- [restartedMain] org.quartz.impl.StdSchedulerFactory      : Quartz scheduler 'quartzScheduler' initialized from an externally provided properties instance.
2020-07-20 17:27:28.325  INFO 21476 --- [restartedMain] org.quartz.impl.StdSchedulerFactory      : Quartz scheduler version: 2.2.1
2020-07-20 17:27:28.326  INFO 21476 --- [restartedMain] org.quartz.core.QuartzScheduler          : JobFactory set to: org.springframework.scheduling.quartz.SpringBeanJobFactory@7592b853
2020-07-20 17:27:28.513  WARN 21476 --- [restartedMain] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'webSocketServer': Unsatisfied dependency expressed through field 'allSocketService'; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'allSocketService': Unsatisfied dependency expressed through field 'socketClient'; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type 'com.nhfc99.template.component.SocketClient.SocketClient' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {@org.springframework.beans.factory.annotation.Autowired(required=true)}
2020-07-20 17:27:28.526  INFO 21476 --- [restartedMain] o.s.s.quartz.SchedulerFactoryBean        : Shutting down Quartz Scheduler
2020-07-20 17:27:28.526  INFO 21476 --- [restartedMain] org.quartz.core.QuartzScheduler          : Scheduler quartzScheduler_$_NON_CLUSTERED shutting down.
2020-07-20 17:27:28.526  INFO 21476 --- [restartedMain] org.quartz.core.QuartzScheduler          : Scheduler quartzScheduler_$_NON_CLUSTERED paused.
2020-07-20 17:27:28.526  INFO 21476 --- [restartedMain] org.quartz.core.QuartzScheduler          : Scheduler quartzScheduler_$_NON_CLUSTERED shutdown complete.
2020-07-20 17:27:28.528  INFO 21476 --- [restartedMain] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]
2020-07-20 17:27:28.540  WARN 21476 --- [restartedMain] o.a.c.loader.WebappClassLoaderBase       : The web application [ROOT] appears to have started a thread named [Abandoned connection cleanup thread] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 java.base@11.0.5/java.lang.Object.wait(Native Method)
 java.base@11.0.5/java.lang.ref.ReferenceQueue.remove(ReferenceQueue.java:155)
 app//com.mysql.jdbc.AbandonedConnectionCleanupThread.run(AbandonedConnectionCleanupThread.java:43)
2020-07-20 17:27:28.546  INFO 21476 --- [restartedMain] ConditionEvaluationReportLoggingListener : 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2020-07-20 17:27:29.073 ERROR 21476 --- [restartedMain] o.s.b.d.LoggingFailureAnalysisReporter   : 

***************************
APPLICATION FAILED TO START
***************************

Description:

Field socketClient in com.nhfc99.template.service.AllSocketService required a bean of type 'com.nhfc99.template.component.SocketClient.SocketClient' that could not be found.

The injection point has the following annotations:
	- @org.springframework.beans.factory.annotation.Autowired(required=true)


Action:

Consider defining a bean of type 'com.nhfc99.template.component.SocketClient.SocketClient' in your configuration.

